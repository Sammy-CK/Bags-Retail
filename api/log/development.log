  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (21.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateShops (20230607075731)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "shops" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607075731"]]
  [1m[36mTRANSACTION (28.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateStaffs (20230607081426)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "staffs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "phone_number" integer, "role" varchar, "shop_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8d03bd1629"
FOREIGN KEY ("shop_id")
  REFERENCES "shops" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_staffs_on_shop_id" ON "staffs" ("shop_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081426"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20230607081811)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081811"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "bags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "sold" boolean, "stored" boolean, "shop_id" integer NOT NULL, "category_id" integer NOT NULL, "image_data" text, "price" integer, "sold_at" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_962d06374c"
FOREIGN KEY ("shop_id")
  REFERENCES "shops" ("id")
, CONSTRAINT "fk_rails_f4cf9b6338"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_bags_on_shop_id" ON "bags" ("shop_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_bags_on_category_id" ON "bags" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-11 12:39:28.252458"], ["updated_at", "2023-06-11 12:39:28.252458"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/login" for 127.0.0.1 at 2023-06-11 15:44:44 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthController#create as */*
  Parameters: {"staff"=>{"name"=>"test", "password"=>"[FILTERED]"}, "auth"=>{"staff"=>{"name"=>"test", "password"=>"[FILTERED]"}}}
[31mUnpermitted parameters: :staff, :auth. Context: { controller: AuthController, action: create, request: #<ActionDispatch::Request:0x00007f1c34b7a550>, params: {"staff"=>{"name"=>"test", "password"=>"[FILTERED]"}, "controller"=>"auth", "action"=>"create", "auth"=>{"staff"=>{"name"=>"test", "password"=>"[FILTERED]"}}} }[0m
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/auth_controller.rb:6:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 401 Unauthorized in 37ms (Views: 5.4ms | ActiveRecord: 1.5ms | Allocations: 5136)


Started POST "/login" for 127.0.0.1 at 2023-06-11 15:45:02 +0300
Error occurred while parsing request parameters.
Contents:

"staff": {
    "name": "test",
    "password": "password"
  }

Processing by AuthController#create as */*
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 122)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/auth_controller.rb:18:in `staff_login_params'
app/controllers/auth_controller.rb:6:in `create'
Started POST "/login" for 127.0.0.1 at 2023-06-11 15:46:32 +0300
Processing by AuthController#create as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "auth"=>{"name"=>"test", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :auth. Context: { controller: AuthController, action: create, request: #<ActionDispatch::Request:0x00007f1c3c00c828>, params: {"name"=>"test", "password"=>"[FILTERED]", "controller"=>"auth", "action"=>"create", "auth"=>{"name"=>"test", "password"=>"[FILTERED]"}} }[0m
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."name" = ? LIMIT ?[0m  [["name", "test"], ["LIMIT", 1]]
  â†³ app/controllers/auth_controller.rb:6:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 401 Unauthorized in 7ms (Views: 1.3ms | ActiveRecord: 0.5ms | Allocations: 863)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateShops (20230607075731)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "shops" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607075731"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateStaffs (20230607081426)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "staffs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "phone_number" integer, "role" varchar, "shop_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8d03bd1629"
FOREIGN KEY ("shop_id")
  REFERENCES "shops" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_staffs_on_shop_id" ON "staffs" ("shop_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081426"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20230607081811)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081811"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "bags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "sold" boolean, "stored" boolean, "shop_id" integer NOT NULL, "category_id" integer NOT NULL, "image_data" text, "price" integer, "sold_at" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_962d06374c"
FOREIGN KEY ("shop_id")
  REFERENCES "shops" ("id")
, CONSTRAINT "fk_rails_f4cf9b6338"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_bags_on_shop_id" ON "bags" ("shop_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_bags_on_category_id" ON "bags" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-11 13:07:55.753641"], ["updated_at", "2023-06-11 13:07:55.753641"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "bags"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "bags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "sold" boolean, "stored" boolean, "shop_id" integer NOT NULL, "category_id" integer NOT NULL, "image_data" text, "price" integer, "sold_at" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_962d06374c"
FOREIGN KEY ("shop_id")
  REFERENCES "shops" ("id")
, CONSTRAINT "fk_rails_f4cf9b6338"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_bags_on_shop_id" ON "bags" ("shop_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_bags_on_category_id" ON "bags" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "bags"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20230607081811)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230607081811"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateStaffs (20230607081426)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "staffs"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230607081426"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateShops (20230607075731)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "shops"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230607075731"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateShops (20230607075731)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "shops" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607075731"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateStaffs (20230607081426)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "staffs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "phone_number" integer, "role" varchar, "shop_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8d03bd1629"
FOREIGN KEY ("shop_id")
  REFERENCES "shops" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_staffs_on_shop_id" ON "staffs" ("shop_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081426"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20230607081811)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081811"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "bags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "sold" boolean, "stored" boolean, "shop_id" integer NOT NULL, "category_id" integer NOT NULL, "image_data" text, "price" integer, "sold_at" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_962d06374c"
FOREIGN KEY ("shop_id")
  REFERENCES "shops" ("id")
, CONSTRAINT "fk_rails_f4cf9b6338"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_bags_on_shop_id" ON "bags" ("shop_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_bags_on_category_id" ON "bags" ("category_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateShops (20230607075731)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "shops" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607075731"]]
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateStaffs (20230607081426)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "staffs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "phone_number" integer, "role" varchar, "shop_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081426"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20230607081811)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081811"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "bags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "sold" boolean, "stored" boolean, "shop_id" integer, "category_id" integer, "image_data" text, "price" integer, "sold_at" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-13 06:39:11.850476"], ["updated_at", "2023-06-13 06:39:11.850476"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "bags"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20230607081811)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "categories"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230607081811"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateStaffs (20230607081426)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "staffs"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230607081426"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateShops (20230607075731)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "shops"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230607075731"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateShops (20230607075731)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "shops" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607075731"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateStaffs (20230607081426)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "staffs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "phone_number" integer, "role" varchar, "shop_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081426"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20230607081811)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081811"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "bags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "sold" boolean, "stored" boolean, "shop_id" integer, "category_id" integer, "image_data" text, "price" integer, "sold_at" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Create (0.8ms)[0m  [1m[32mINSERT INTO "shops" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Shop 1"], ["created_at", "2023-06-13 06:44:41.701625"], ["updated_at", "2023-06-13 06:44:41.701625"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStaff Create (0.6ms)[0m  [1m[32mINSERT INTO "staffs" ("name", "password_digest", "phone_number", "role", "shop_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["password_digest", "[FILTERED]"], ["phone_number", 117440512], ["role", "admin"], ["shop_id", 1], ["created_at", "2023-06-13 06:44:42.173232"], ["updated_at", "2023-06-13 06:44:42.173232"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
Started POST "/login" for 127.0.0.1 at 2023-06-13 11:03:00 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthController#create as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "auth"=>{"name"=>"test", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :auth. Context: { controller: AuthController, action: create, request: #<ActionDispatch::Request:0x00007f13fcb56d98>, params: {"name"=>"test", "password"=>"[FILTERED]", "controller"=>"auth", "action"=>"create", "auth"=>{"name"=>"test", "password"=>"[FILTERED]"}} }[0m
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."name" = ? LIMIT ?[0m  [["name", "test"], ["LIMIT", 1]]
  â†³ app/controllers/auth_controller.rb:6:in `create'
[31mUnpermitted parameter: :auth. Context: { controller: AuthController, action: create, request: #<ActionDispatch::Request:0x00007f13fcb56d98>, params: {"name"=>"test", "password"=>"[FILTERED]", "controller"=>"auth", "action"=>"create", "auth"=>{"name"=>"test", "password"=>"[FILTERED]"}} }[0m
[active_model_serializers]   [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/auth_controller.rb:9:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (82.13ms)
Completed 202 Accepted in 599ms (Views: 84.3ms | ActiveRecord: 4.1ms | Allocations: 33648)


Started GET "/staffs" for 127.0.0.1 at 2023-06-13 11:12:06 +0300
Processing by StaffsController#index as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "staff"=>{"name"=>"test"}}
Completed 500 Internal Server Error in 5ms (Allocations: 1257)


  
NoMethodError (undefined method `find_by' for 1:Integer):
  
app/controllers/application_controller.rb:31:in `current_staff'
app/controllers/application_controller.rb:37:in `logged_in?'
app/controllers/application_controller.rb:42:in `authorized_staff'
Started POST "/login" for 127.0.0.1 at 2023-06-13 11:14:32 +0300
Processing by AuthController#create as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "auth"=>{"name"=>"test", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :auth. Context: { controller: AuthController, action: create, request: #<ActionDispatch::Request:0x00007f13fceab750>, params: {"name"=>"test", "password"=>"[FILTERED]", "controller"=>"auth", "action"=>"create", "auth"=>{"name"=>"test", "password"=>"[FILTERED]"}} }[0m
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."name" = ? LIMIT ?[0m  [["name", "test"], ["LIMIT", 1]]
  â†³ app/controllers/auth_controller.rb:6:in `create'
[31mUnpermitted parameter: :auth. Context: { controller: AuthController, action: create, request: #<ActionDispatch::Request:0x00007f13fceab750>, params: {"name"=>"test", "password"=>"[FILTERED]", "controller"=>"auth", "action"=>"create", "auth"=>{"name"=>"test", "password"=>"[FILTERED]"}} }[0m
[active_model_serializers]   [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/auth_controller.rb:9:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.69ms)
Completed 202 Accepted in 421ms (Views: 7.4ms | ActiveRecord: 1.7ms | Allocations: 2071)


Started GET "/staffs" for 127.0.0.1 at 2023-06-13 11:15:48 +0300
Processing by StaffsController#index as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "staff"=>{"name"=>"test"}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.7ms | Allocations: 1407)


  
NoMethodError (undefined method `staff_id' for {"staff_id"=>1}:Hash):
  
app/controllers/application_controller.rb:30:in `current_staff'
app/controllers/application_controller.rb:38:in `logged_in?'
app/controllers/application_controller.rb:43:in `authorized_staff'
Started GET "/staffs" for 127.0.0.1 at 2023-06-13 11:15:59 +0300
Processing by StaffsController#index as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "staff"=>{"name"=>"test"}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1378)


  
NoMethodError (undefined method `staff_id' for {"staff_id"=>1}:Hash):
  
app/controllers/application_controller.rb:30:in `current_staff'
app/controllers/application_controller.rb:38:in `logged_in?'
app/controllers/application_controller.rb:43:in `authorized_staff'
Started GET "/staffs" for 127.0.0.1 at 2023-06-13 11:16:56 +0300
Processing by StaffsController#index as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "staff"=>{"name"=>"test"}}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 3.7ms | Allocations: 2190)


  
NameError (undefined local variable or method `staff_id' for #<StaffsController:0x00000000008ea8>
Did you mean?  staff_url):
  
app/controllers/application_controller.rb:32:in `current_staff'
app/controllers/application_controller.rb:38:in `logged_in?'
app/controllers/application_controller.rb:43:in `authorized_staff'
Started GET "/staffs" for 127.0.0.1 at 2023-06-13 11:18:29 +0300
Processing by StaffsController#index as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "staff"=>{"name"=>"test"}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 2.2ms | Allocations: 1492)


  
NoMethodError (undefined method `find_by' for {"staff_id"=>1}:Hash
Did you mean?  min_by):
  
app/controllers/application_controller.rb:32:in `current_staff'
app/controllers/application_controller.rb:38:in `logged_in?'
app/controllers/application_controller.rb:43:in `authorized_staff'
Started GET "/staffs" for 127.0.0.1 at 2023-06-13 11:22:53 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaffsController#index as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "staff"=>{"name"=>"test"}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.5ms | Allocations: 1323)


  
NoMethodError (undefined method `find_by' for 1:Integer):
  
app/controllers/application_controller.rb:32:in `current_staff'
app/controllers/application_controller.rb:38:in `logged_in?'
app/controllers/application_controller.rb:43:in `authorized_staff'
Started GET "/staffs" for 127.0.0.1 at 2023-06-13 11:24:46 +0300
Processing by StaffsController#index as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "staff"=>{"name"=>"test"}}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.1ms | Allocations: 1244)


  
NoMethodError (undefined method `find_by' for 1:Integer):
  
app/controllers/application_controller.rb:32:in `current_staff'
app/controllers/application_controller.rb:38:in `logged_in?'
app/controllers/application_controller.rb:43:in `authorized_staff'
Started GET "/staffs" for 127.0.0.1 at 2023-06-13 11:25:43 +0300
Processing by StaffsController#index as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "staff"=>{"name"=>"test"}}
  [1m[36mStaff Load (0.9ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  â†³ app/controllers/staffs_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mShop Load (0.5ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/staffs_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (54.39ms)
Completed 200 OK in 138ms (Views: 89.6ms | ActiveRecord: 6.1ms | Allocations: 30830)


Started GET "/categorys" for 127.0.0.1 at 2023-06-13 11:26:08 +0300
  
ActionController::RoutingError (No route matches [GET] "/categorys"):
  
Started GET "/categories" for 127.0.0.1 at 2023-06-13 11:26:19 +0300
Processing by CategoriesController#index as */*
  Parameters: {"name"=>"test", "password"=>"[FILTERED]", "category"=>{"name"=>"test"}}
  [1m[36mStaff Load (0.7ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.35ms)
Completed 200 OK in 13ms (Views: 5.1ms | ActiveRecord: 2.4ms | Allocations: 1423)


Started POST "/categories" for 127.0.0.1 at 2023-06-13 11:30:38 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#create as */*
  Parameters: {"category"=>{"name"=>"backpack"}}
  [1m[36mStaff Load (0.9ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/categories_controller.rb:20:in `create'
  [1m[36mCategory Create (0.7ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "backpack"], ["created_at", "2023-06-13 08:30:38.910532"], ["updated_at", "2023-06-13 08:30:38.910532"]]
  â†³ app/controllers/categories_controller.rb:20:in `create'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/categories_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."category_id" = ?[0m  [["category_id", 1]]
[active_model_serializers]   â†³ app/controllers/categories_controller.rb:21:in `create'
[active_model_serializers] Rendered CategorySerializer with ActiveModelSerializers::Adapter::Attributes (77.68ms)
Completed 201 Created in 184ms (Views: 104.3ms | ActiveRecord: 10.3ms | Allocations: 36404)


Started GET "/categories" for 127.0.0.1 at 2023-06-13 11:30:51 +0300
Processing by CategoriesController#index as */*
  Parameters: {"category"=>{"name"=>"backpack"}}
  [1m[36mStaff Load (0.8ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."category_id" = ?[0m  [["category_id", 1]]
[active_model_serializers]   â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.56ms)
Completed 200 OK in 18ms (Views: 11.4ms | ActiveRecord: 1.5ms | Allocations: 2451)


Started GET "/categories" for 127.0.0.1 at 2023-06-13 11:33:49 +0300
Processing by CategoriesController#index as */*
  Parameters: {"category"=>{"name"=>"suitcase"}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."category_id" = ?[0m  [["category_id", 1]]
[active_model_serializers]   â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (6.45ms)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.8ms | Allocations: 2399)


Started POST "/categories" for 127.0.0.1 at 2023-06-13 11:34:00 +0300
Processing by CategoriesController#create as */*
  Parameters: {"category"=>{"name"=>"suitcase"}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/categories_controller.rb:20:in `create'
  [1m[36mCategory Create (0.8ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "suitcase"], ["created_at", "2023-06-13 08:34:00.456400"], ["updated_at", "2023-06-13 08:34:00.456400"]]
  â†³ app/controllers/categories_controller.rb:20:in `create'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/categories_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."category_id" = ?[0m  [["category_id", 2]]
[active_model_serializers]   â†³ app/controllers/categories_controller.rb:21:in `create'
[active_model_serializers] Rendered CategorySerializer with ActiveModelSerializers::Adapter::Attributes (5.18ms)
Completed 201 Created in 27ms (Views: 6.7ms | ActiveRecord: 6.7ms | Allocations: 3426)


Started GET "/categories" for 127.0.0.1 at 2023-06-13 11:34:05 +0300
Processing by CategoriesController#index as */*
  Parameters: {"category"=>{"name"=>"suitcase"}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.2ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."category_id" = ?[0m  [["category_id", 1]]
[active_model_serializers]   â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."category_id" = ?[0m  [["category_id", 2]]
[active_model_serializers]   â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (9.98ms)
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 1.1ms | Allocations: 3438)


Started DELETE "/categories/1" for 127.0.0.1 at 2023-06-13 11:34:24 +0300
Processing by CategoriesController#destroy as */*
  Parameters: {"category"=>{"name"=>"suitcase"}, "id"=>"1"}
  [1m[36mStaff Load (1.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/categories_controller.rb:44:in `set_category'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/categories_controller.rb:38:in `destroy'
  [1m[36mCategory Destroy (0.6ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/categories_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/categories_controller.rb:38:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 6.4ms | Allocations: 2479)


Started GET "/categories" for 127.0.0.1 at 2023-06-13 11:35:06 +0300
Processing by CategoriesController#index as */*
  Parameters: {"category"=>{"name"=>"suitcase"}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."category_id" = ?[0m  [["category_id", 2]]
[active_model_serializers]   â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (5.75ms)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.9ms | Allocations: 2378)


Started PATCH "/categories/2" for 127.0.0.1 at 2023-06-13 11:35:28 +0300
Processing by CategoriesController#update as */*
  Parameters: {"category"=>{"name"=>"suitcases"}, "id"=>"2"}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/categories_controller.rb:44:in `set_category'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/categories_controller.rb:29:in `update'
  [1m[36mCategory Update (0.8ms)[0m  [1m[33mUPDATE "categories" SET "name" = ?, "updated_at" = ? WHERE "categories"."id" = ?[0m  [["name", "suitcases"], ["updated_at", "2023-06-13 08:35:28.753376"], ["id", 2]]
  â†³ app/controllers/categories_controller.rb:29:in `update'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/categories_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."category_id" = ?[0m  [["category_id", 2]]
[active_model_serializers]   â†³ app/controllers/categories_controller.rb:30:in `update'
[active_model_serializers] Rendered CategorySerializer with ActiveModelSerializers::Adapter::Attributes (5.6ms)
Completed 200 OK in 32ms (Views: 6.3ms | ActiveRecord: 6.6ms | Allocations: 3889)


Started GET "/categories" for 127.0.0.1 at 2023-06-13 11:35:38 +0300
Processing by CategoriesController#index as */*
  Parameters: {"category"=>{"name"=>"suitcases"}}
  [1m[36mStaff Load (0.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.7ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."category_id" = ?[0m  [["category_id", 2]]
[active_model_serializers]   â†³ app/controllers/categories_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.28ms)
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 1.1ms | Allocations: 2378)


Started GET "/shops" for 127.0.0.1 at 2023-06-13 11:40:41 +0300
Processing by ShopsController#index as */*
  Parameters: {"category"=>{"name"=>"suitcases"}, "shop"=>{}}
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops"[0m
  â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.56ms)
Completed 200 OK in 42ms (Views: 34.3ms | ActiveRecord: 3.7ms | Allocations: 6478)


Started POST "/shops" for 127.0.0.1 at 2023-06-13 11:41:36 +0300
Processing by ShopsController#create as */*
  Parameters: {"shop"=>{"name"=>"Shop 2"}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/shops_controller.rb:20:in `create'
  [1m[36mShop Create (0.7ms)[0m  [1m[32mINSERT INTO "shops" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Shop 2"], ["created_at", "2023-06-13 08:41:36.681959"], ["updated_at", "2023-06-13 08:41:36.681959"]]
  â†³ app/controllers/shops_controller.rb:20:in `create'
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/shops_controller.rb:20:in `create'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 2]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:21:in `create'
[active_model_serializers]   [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 2]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:21:in `create'
[active_model_serializers] Rendered ShopSerializer with ActiveModelSerializers::Adapter::Attributes (11.95ms)
Completed 201 Created in 34ms (Views: 12.9ms | ActiveRecord: 9.0ms | Allocations: 4404)


Started GET "/shops" for 127.0.0.1 at 2023-06-13 11:41:43 +0300
Processing by ShopsController#index as */*
  Parameters: {"shop"=>{"name"=>"Shop 2"}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops"[0m
  â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.2ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 2]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 2]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.42ms)
Completed 200 OK in 30ms (Views: 24.3ms | ActiveRecord: 1.7ms | Allocations: 5441)


Started DELETE "/shops/2" for 127.0.0.1 at 2023-06-13 11:41:57 +0300
Processing by ShopsController#destroy as */*
  Parameters: {"shop"=>{"name"=>"Shop 2"}, "id"=>"2"}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.7ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/shops_controller.rb:44:in `set_shop'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/shops_controller.rb:38:in `destroy'
  [1m[36mShop Destroy (0.6ms)[0m  [1m[31mDELETE FROM "shops" WHERE "shops"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/shops_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/shops_controller.rb:38:in `destroy'
Completed 204 No Content in 20ms (ActiveRecord: 4.9ms | Allocations: 2451)


Started GET "/shops" for 127.0.0.1 at 2023-06-13 11:42:04 +0300
Processing by ShopsController#index as */*
  Parameters: {"shop"=>{"name"=>"Shop 2"}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT "shops".* FROM "shops"[0m
  â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.42ms)
Completed 200 OK in 28ms (Views: 18.9ms | ActiveRecord: 1.1ms | Allocations: 3463)


Started PATCH "/shops/1" for 127.0.0.1 at 2023-06-13 11:42:47 +0300
Processing by ShopsController#update as */*
  Parameters: {"shop"=>{"name"=>"Shop 2"}, "id"=>"1"}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/shops_controller.rb:44:in `set_shop'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/shops_controller.rb:29:in `update'
  [1m[36mShop Update (0.6ms)[0m  [1m[33mUPDATE "shops" SET "name" = ?, "updated_at" = ? WHERE "shops"."id" = ?[0m  [["name", "Shop 2"], ["updated_at", "2023-06-13 08:42:47.633477"], ["id", 1]]
  â†³ app/controllers/shops_controller.rb:29:in `update'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/shops_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mBag Load (0.2ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:30:in `update'
[active_model_serializers]   [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:30:in `update'
[active_model_serializers] Rendered ShopSerializer with ActiveModelSerializers::Adapter::Attributes (10.85ms)
Completed 200 OK in 33ms (Views: 11.6ms | ActiveRecord: 7.1ms | Allocations: 4898)


Started GET "/shops/" for 127.0.0.1 at 2023-06-13 11:42:57 +0300
Processing by ShopsController#index as */*
  Parameters: {"shop"=>{"name"=>"Shop 2"}}
  [1m[36mStaff Load (0.8ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops"[0m
  â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.16ms)
Completed 200 OK in 27ms (Views: 20.8ms | ActiveRecord: 1.7ms | Allocations: 3463)


Started GET "/shops/1" for 127.0.0.1 at 2023-06-13 11:43:03 +0300
Processing by ShopsController#show as */*
  Parameters: {"shop"=>{"name"=>"Shop 2"}, "id"=>"1"}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.9ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/shops_controller.rb:44:in `set_shop'
[active_model_serializers]   [1m[36mBag Load (0.2ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:13:in `show'
[active_model_serializers] Rendered ShopSerializer with ActiveModelSerializers::Adapter::Attributes (12.69ms)
Completed 200 OK in 25ms (Views: 13.7ms | ActiveRecord: 1.8ms | Allocations: 3177)


Started PUT "/shops/1" for 127.0.0.1 at 2023-06-13 11:43:18 +0300
Processing by ShopsController#update as */*
  Parameters: {"shop"=>{"name"=>"Shop 1"}, "id"=>"1"}
  [1m[36mStaff Load (0.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/shops_controller.rb:44:in `set_shop'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/shops_controller.rb:29:in `update'
  [1m[36mShop Update (0.6ms)[0m  [1m[33mUPDATE "shops" SET "name" = ?, "updated_at" = ? WHERE "shops"."id" = ?[0m  [["name", "Shop 1"], ["updated_at", "2023-06-13 08:43:18.364388"], ["id", 1]]
  â†³ app/controllers/shops_controller.rb:29:in `update'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/shops_controller.rb:29:in `update'
[active_model_serializers]   [1m[36mBag Load (0.3ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:30:in `update'
[active_model_serializers]   [1m[36mStaff Load (0.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:30:in `update'
[active_model_serializers] Rendered ShopSerializer with ActiveModelSerializers::Adapter::Attributes (12.03ms)
Completed 200 OK in 33ms (Views: 13.5ms | ActiveRecord: 5.0ms | Allocations: 4868)


Started GET "/shops/1" for 127.0.0.1 at 2023-06-13 11:43:23 +0300
Processing by ShopsController#show as */*
  Parameters: {"shop"=>{"name"=>"Shop 1"}, "id"=>"1"}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.7ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/shops_controller.rb:44:in `set_shop'
[active_model_serializers]   [1m[36mBag Load (0.2ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:13:in `show'
[active_model_serializers]   [1m[36mStaff Load (0.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:13:in `show'
[active_model_serializers] Rendered ShopSerializer with ActiveModelSerializers::Adapter::Attributes (11.31ms)
Completed 200 OK in 21ms (Views: 12.0ms | ActiveRecord: 1.5ms | Allocations: 3176)


Started GET "/staffs" for 127.0.0.1 at 2023-06-13 11:44:18 +0300
Processing by StaffsController#index as */*
  Parameters: {"shop"=>{"name"=>"Shop 1"}, "staff"=>{}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mStaff Load (0.6ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  â†³ app/controllers/staffs_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/staffs_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (9.98ms)
Completed 200 OK in 19ms (Views: 14.1ms | ActiveRecord: 1.2ms | Allocations: 2725)


Started GET "/staffs/1" for 127.0.0.1 at 2023-06-13 11:45:18 +0300
Processing by StaffsController#show as */*
  Parameters: {"shop"=>{"name"=>"Shop 1"}, "id"=>"1", "staff"=>{}}
  [1m[36mStaff Load (0.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/staffs_controller.rb:44:in `set_staff'
[active_model_serializers]   [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/staffs_controller.rb:13:in `show'
[active_model_serializers] Rendered StaffSerializer with ActiveModelSerializers::Adapter::Attributes (5.48ms)
Completed 200 OK in 13ms (Views: 6.3ms | ActiveRecord: 0.7ms | Allocations: 2298)


Started POST "/staffs" for 127.0.0.1 at 2023-06-13 11:49:43 +0300
Error occurred while parsing request parameters.
Contents:

{
  "staff":{
    "name": "test2",
    "password": "password",
    "phone_number": 0722000000,
    "role": "attendant",
    "shop_id": 1
         }
}
Processing by StaffsController#create as */*
  [1m[36mStaff Load (0.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
Completed 400 Bad Request in 4ms (ActiveRecord: 0.2ms | Allocations: 727)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/staffs_controller.rb:49:in `staff_params'
app/controllers/staffs_controller.rb:18:in `create'
Started POST "/staffs" for 127.0.0.1 at 2023-06-13 11:51:18 +0300
Error occurred while parsing request parameters.
Contents:

{
  "staff":{
    "name": "test2",
    "password": "password",
    "phone_number": 0722000000,
    "role": "attendant",
    "shop_id": 1
         }
}
Processing by StaffsController#create as */*
  [1m[36mStaff Load (0.6ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
Completed 400 Bad Request in 7ms (ActiveRecord: 0.6ms | Allocations: 722)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/staffs_controller.rb:49:in `staff_params'
app/controllers/staffs_controller.rb:18:in `create'
Started POST "/staffs" for 127.0.0.1 at 2023-06-13 12:01:00 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Error occurred while parsing request parameters.
Contents:

{
  "staff":{
    "name": "test2",
    "password": "password",
    "phone_number": 0722000000,
    "role": "attendant",
    "shop_id": 1
         }
}
Processing by StaffsController#create as */*
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
Completed 400 Bad Request in 51ms (ActiveRecord: 2.5ms | Allocations: 18301)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/staffs_controller.rb:49:in `staff_params'
app/controllers/staffs_controller.rb:18:in `create'
Started POST "/staffs" for 127.0.0.1 at 2023-06-13 12:11:37 +0300
Error occurred while parsing request parameters.
Contents:

{
  "staff":{
    "name": "test2",
    "password": "password",
    "phone_number": 0722000000,
    "role": "attendant",
    "shop_id": 1
         }
}
Processing by StaffsController#create as */*
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
Completed 400 Bad Request in 7ms (ActiveRecord: 1.4ms | Allocations: 893)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/staffs_controller.rb:49:in `staff_params'
app/controllers/staffs_controller.rb:18:in `create'
Started POST "/staffs" for 127.0.0.1 at 2023-06-13 12:13:50 +0300
Error occurred while parsing request parameters.
Contents:

{
    "name": "test2",
    "password": "password",
    "phone_number": 0722000000,
    "role": "attendant",
    "shop_id": 1
}
Processing by StaffsController#create as */*
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
Completed 400 Bad Request in 22ms (ActiveRecord: 3.7ms | Allocations: 3224)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/staffs_controller.rb:49:in `staff_params'
app/controllers/staffs_controller.rb:18:in `create'
Started POST "/staffs" for 127.0.0.1 at 2023-06-13 12:20:52 +0300
Processing by StaffsController#create as */*
  Parameters: {"staff"=>{"name"=>"test2", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>1}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
[31mUnpermitted parameter: :staff. Context: { controller: StaffsController, action: create, request: #<ActionDispatch::Request:0x00007f4cb8cea890>, params: {"staff"=>{"name"=>"test2", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>1}, "controller"=>"staffs", "action"=>"create"} }[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (12.95ms)
Completed 422 Unprocessable Entity in 52ms (Views: 18.2ms | ActiveRecord: 1.2ms | Allocations: 9066)


Started POST "/staffs" for 127.0.0.1 at 2023-06-13 12:23:41 +0300
Processing by StaffsController#create as */*
  Parameters: {"staff"=>{"name"=>"test2", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>"1"}}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
[31mUnpermitted parameter: :staff. Context: { controller: StaffsController, action: create, request: #<ActionDispatch::Request:0x00007f4cb8bb9138>, params: {"staff"=>{"name"=>"test2", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>"1"}, "controller"=>"staffs", "action"=>"create"} }[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (2.68ms)
Completed 422 Unprocessable Entity in 15ms (Views: 5.5ms | ActiveRecord: 0.4ms | Allocations: 1634)


Started GET "/shops" for 127.0.0.1 at 2023-06-13 12:24:24 +0300
Processing by ShopsController#index as */*
  Parameters: {"staff"=>{"name"=>"test2", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>"1"}, "shop"=>{}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops"[0m
  â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."shop_id" = ?[0m  [["shop_id", 1]]
[active_model_serializers]   â†³ app/controllers/shops_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (61.42ms)
Completed 200 OK in 109ms (Views: 101.4ms | ActiveRecord: 4.0ms | Allocations: 15785)


Started POST "/staffs" for 127.0.0.1 at 2023-06-13 12:26:27 +0300
Processing by StaffsController#create as */*
  Parameters: {"staff"=>{"name"=>"test2", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>"1"}}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/staffs_controller.rb:20:in `create'
  [1m[36mShop Load (0.7ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/staffs_controller.rb:20:in `create'
  [1m[36mStaff Create (0.8ms)[0m  [1m[32mINSERT INTO "staffs" ("name", "password_digest", "phone_number", "role", "shop_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "test2"], ["password_digest", "[FILTERED]"], ["phone_number", 722000000], ["role", "attendant"], ["shop_id", 1], ["created_at", "2023-06-13 09:26:28.051031"], ["updated_at", "2023-06-13 09:26:28.051031"]]
  â†³ app/controllers/staffs_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/staffs_controller.rb:20:in `create'
[active_model_serializers] Rendered StaffSerializer with ActiveModelSerializers::Adapter::Attributes (5.88ms)
Completed 201 Created in 468ms (Views: 9.4ms | ActiveRecord: 7.9ms | Allocations: 10587)


Started PATCH "/staffs/2" for 127.0.0.1 at 2023-06-13 12:29:37 +0300
Processing by StaffsController#update as */*
  Parameters: {"staff"=>{"name"=>"test21", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>"1"}, "id"=>"2"}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/staffs_controller.rb:44:in `set_staff'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/staffs_controller.rb:29:in `update'
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/staffs_controller.rb:29:in `update'
  [1m[36mStaff Update (0.6ms)[0m  [1m[33mUPDATE "staffs" SET "name" = ?, "password_digest" = ?, "updated_at" = ? WHERE "staffs"."id" = ?[0m  [["name", "test21"], ["password_digest", "[FILTERED]"], ["updated_at", "2023-06-13 09:29:38.234712"], ["id", 2]]
  â†³ app/controllers/staffs_controller.rb:29:in `update'
  [1m[36mTRANSACTION (74.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/staffs_controller.rb:29:in `update'
[active_model_serializers] Rendered StaffSerializer with ActiveModelSerializers::Adapter::Attributes (1.34ms)
Completed 200 OK in 511ms (Views: 2.4ms | ActiveRecord: 76.4ms | Allocations: 4131)


Started GET "/staffs/2" for 127.0.0.1 at 2023-06-13 12:29:48 +0300
Processing by StaffsController#show as */*
  Parameters: {"staff"=>{"name"=>"test21", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>"1"}, "id"=>"2"}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mStaff Load (0.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/staffs_controller.rb:44:in `set_staff'
[active_model_serializers]   [1m[36mShop Load (1.6ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/staffs_controller.rb:13:in `show'
[active_model_serializers] Rendered StaffSerializer with ActiveModelSerializers::Adapter::Attributes (10.63ms)
Completed 200 OK in 19ms (Views: 10.8ms | ActiveRecord: 2.2ms | Allocations: 2205)


Started GET "/staffs/" for 127.0.0.1 at 2023-06-13 12:29:58 +0300
Processing by StaffsController#index as */*
  Parameters: {"staff"=>{"name"=>"test21", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>"1"}}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  â†³ app/controllers/staffs_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/staffs_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCACHE Shop Load (0.0ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/staffs_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.69ms)
Completed 200 OK in 24ms (Views: 17.5ms | ActiveRecord: 1.0ms | Allocations: 3532)


Started DELETE "/staffs/2" for 127.0.0.1 at 2023-06-13 12:31:04 +0300
Processing by StaffsController#destroy as */*
  Parameters: {"staff"=>{"name"=>"test21", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>"1"}, "id"=>"2"}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/staffs_controller.rb:44:in `set_staff'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/staffs_controller.rb:38:in `destroy'
  [1m[36mStaff Destroy (1.0ms)[0m  [1m[31mDELETE FROM "staffs" WHERE "staffs"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/staffs_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/staffs_controller.rb:38:in `destroy'
Completed 204 No Content in 21ms (ActiveRecord: 6.8ms | Allocations: 2362)


Started GET "/staffs" for 127.0.0.1 at 2023-06-13 12:31:29 +0300
Processing by StaffsController#index as */*
  Parameters: {"staff"=>{"name"=>"test21", "password"=>"[FILTERED]", "phone_number"=>"0722000000", "role"=>"attendant", "shop_id"=>"1"}}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mStaff Load (0.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  â†³ app/controllers/staffs_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/staffs_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (9.61ms)
Completed 200 OK in 19ms (Views: 14.4ms | ActiveRecord: 0.9ms | Allocations: 2436)


Started POST "/bags" for 127.0.0.1 at 2023-06-13 13:03:17 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f4cbc84de28 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-19059-1ir8w5h.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230311_200821.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230311_200821.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
Completed 400 Bad Request in 20ms (ActiveRecord: 0.9ms | Allocations: 3688)


  
ActionController::ParameterMissing (param is missing or the value is empty: bag):
  
app/controllers/bags_controller.rb:49:in `bag_params'
app/controllers/bags_controller.rb:18:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 13:04:50 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f4059094a20 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-20974-1nmbkrn.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230311_200821.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230311_200821.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.8ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
Completed 500 Internal Server Error in 17328ms (ActiveRecord: 8.6ms | Allocations: 223825)


  
NoMethodError (undefined method `title' for #<Bag:0x00007f40592ceed0>):
  
app/controllers/bags_controller.rb:20:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 13:07:29 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f8ecd0f3260 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-21214-30s2vz.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230311_200821.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230311_200821.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
Completed 500 Internal Server Error in 5782ms (ActiveRecord: 9.2ms | Allocations: 223778)


  
NoMethodError (undefined method `title' for #<Bag:0x00007f8ecd278608>):
  
app/controllers/bags_controller.rb:20:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 13:13:42 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f8ec4010950 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-21214-8jbvnm.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230311_200821.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230311_200821.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (1.0ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
Completed 500 Internal Server Error in 16330ms (ActiveRecord: 2.8ms | Allocations: 9379)


  
NoMethodError (undefined method `title' for #<Bag:0x00007f8ec42c5ba0>):
  
app/controllers/bags_controller.rb:20:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 13:14:54 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f8eccb7b300 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-21214-1oydoqi.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230311_200821.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230311_200821.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:21:in `create'
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:21:in `create'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:21:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:21:in `create'
Completed 500 Internal Server Error in 6846ms (ActiveRecord: 7.8ms | Allocations: 24440)


  
NoMethodError (undefined method `title' for #<Bag:0x00007f8ed45acc50>):
  
app/controllers/bags_controller.rb:21:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 13:21:30 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f8ecd6aca08 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-21214-1vek1xa.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230311_200821.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230311_200821.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.5ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
Completed 500 Internal Server Error in 15743ms (ActiveRecord: 2.8ms | Allocations: 22918)


  
NoMethodError (undefined method `title' for #<Bag:0x00007f8ecd38d1d8>):
  
app/controllers/bags_controller.rb:20:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 14:58:24 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fdda5069ae8 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-23291-w7h93m.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230311_200821.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230311_200821.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.6ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.5ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
Completed 500 Internal Server Error in 8997ms (ActiveRecord: 8.1ms | Allocations: 223814)


  
NoMethodError (undefined method `title' for #<Bag:0x00007fdda52a37a0>):
  
app/controllers/bags_controller.rb:20:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 15:10:21 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fddb5152170 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-23291-10yuqju.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230311_200821.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230311_200821.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.5ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
Completed 500 Internal Server Error in 11328ms (ActiveRecord: 2.5ms | Allocations: 22839)


  
NoMethodError (undefined method `title' for #<Bag:0x00007fdd9c5990a8>):
  
app/controllers/bags_controller.rb:20:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 15:11:42 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil"}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.0ms | Allocations: 6707)


  
NoMethodError (undefined method `title' for #<Bag:0x00007fddb00218c8>):
  
app/controllers/bags_controller.rb:20:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 15:12:27 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1"}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 1.1ms | Allocations: 6687)


  
NoMethodError (undefined method `title' for #<Bag:0x00007fdda48d1b50>):
  
app/controllers/bags_controller.rb:20:in `create'
Started POST "/bags" for 127.0.0.1 at 2023-06-13 15:19:17 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"1", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fdd9c9760b8 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-23291-16shtkg.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (13.72ms)
Completed 422 Unprocessable Entity in 9489ms (Views: 18.4ms | ActiveRecord: 3.2ms | Allocations: 21994)


Started POST "/bags" for 127.0.0.1 at 2023-06-13 15:21:22 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fdda539e8f8 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-23291-kzrk7.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mBag Create (0.7ms)[0m  [1m[32mINSERT INTO "bags" ("name", "sold", "stored", "shop_id", "category_id", "image_data", "price", "sold_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Gucci"], ["sold", 0], ["stored", 1], ["shop_id", 1], ["category_id", 2], ["image_data", "{\"id\":\"6feaf56c081bee168e2b0d2882c0a675.jpg\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"IMG_20230121_004342.jpg\",\"size\":369726,\"mime_type\":\"image/jpeg\",\"width\":1080,\"height\":1350}}"], ["price", 5000], ["sold_at", nil], ["created_at", "2023-06-13 12:21:33.597419"], ["updated_at", "2023-06-13 12:21:33.597419"]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mBag Update (1.5ms)[0m  [1m[33mUPDATE "bags" SET "image_data" = ?, "updated_at" = ? WHERE "bags"."id" = ?[0m  [["image_data", "{\"id\":\"d1832991781e9c2ffb162bf4ed24cb64.jpg\",\"storage\":\"store\",\"metadata\":{\"filename\":\"IMG_20230121_004342.jpg\",\"size\":369726,\"mime_type\":\"image/jpeg\",\"width\":1080,\"height\":1350}}"], ["updated_at", "2023-06-13 12:21:36.145399"], ["id", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
[active_model_serializers] Rendered BagSerializer with ActiveModelSerializers::Adapter::Attributes (8.73ms)
Completed 201 Created in 13291ms (Views: 38.0ms | ActiveRecord: 20.7ms | Allocations: 31410)


Started DELETE "/bags/1" for 127.0.0.1 at 2023-06-13 15:25:50 +0300
Processing by BagsController#destroy as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fddb4e29598 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-23291-13htej5.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">, "id"=>"1"}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags" WHERE "bags"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:44:in `set_bag'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:38:in `destroy'
  [1m[36mBag Destroy (1.7ms)[0m  [1m[31mDELETE FROM "bags" WHERE "bags"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/bags_controller.rb:38:in `destroy'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/bags_controller.rb:38:in `destroy'
Completed 204 No Content in 1417ms (ActiveRecord: 7.3ms | Allocations: 3887)


Started POST "/bags/" for 127.0.0.1 at 2023-06-13 15:26:04 +0300
Processing by BagsController#create as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fdda45321c0 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-23291-1sgre58.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mBag Create (3.3ms)[0m  [1m[32mINSERT INTO "bags" ("name", "sold", "stored", "shop_id", "category_id", "image_data", "price", "sold_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Gucci"], ["sold", 0], ["stored", 1], ["shop_id", 1], ["category_id", 2], ["image_data", "{\"id\":\"5c9e70e520655a8166c1b4a70e18633d.jpg\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"IMG_20230121_004342.jpg\",\"size\":369726,\"mime_type\":\"image/jpeg\",\"width\":1080,\"height\":1350}}"], ["price", 5000], ["sold_at", nil], ["created_at", "2023-06-13 12:26:13.949015"], ["updated_at", "2023-06-13 12:26:13.949015"]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mBag Update (1.0ms)[0m  [1m[33mUPDATE "bags" SET "image_data" = ?, "updated_at" = ? WHERE "bags"."id" = ?[0m  [["image_data", "{\"id\":\"ac8fc804741893cb0b57b2dc1bd10ee2.jpg\",\"storage\":\"store\",\"metadata\":{\"filename\":\"IMG_20230121_004342.jpg\",\"size\":369726,\"mime_type\":\"image/jpeg\",\"width\":1080,\"height\":1350}}"], ["updated_at", "2023-06-13 12:26:15.976812"], ["id", 2]]
  â†³ app/controllers/bags_controller.rb:20:in `create'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/bags_controller.rb:20:in `create'
[active_model_serializers] Rendered BagSerializer with ActiveModelSerializers::Adapter::Attributes (2.18ms)
Completed 201 Created in 11204ms (Views: 3.4ms | ActiveRecord: 15.0ms | Allocations: 10506)


Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:35:31 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f5add04e7e8 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-24704-1iv2qjt.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (1.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.8ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mShop Load (0.6ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (125.5ms)
Completed 200 OK in 320ms (Views: 225.8ms | ActiveRecord: 10.4ms | Allocations: 63294)


Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:36:46 +0300
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f5adcab87c0 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-24704-bvai5.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.8ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.5ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
Completed 500 Internal Server Error in 58ms (ActiveRecord: 5.8ms | Allocations: 10997)


  
SyntaxError (/home/sam/Bags-Retail/api/app/serializers/bag_serializer.rb:3: syntax error, unexpected constant, expecting `end'
  belongs_to :shop Serializer :BagnshopnstaffSerializer
                   ^~~~~~~~~~
):
  
app/serializers/bag_serializer.rb:3: syntax error, unexpected constant, expecting `end'
app/serializers/bag_serializer.rb:3: syntax error, unexpected constant, expecting `end'
app/controllers/bags_controller.rb:8:in `index'
Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:37:36 +0300
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f5adc53b590 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-24704-ytdf32.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
Completed 500 Internal Server Error in 55ms (ActiveRecord: 5.7ms | Allocations: 10982)


  
SyntaxError (/home/sam/Bags-Retail/api/app/serializers/bag_serializer.rb:3: syntax error, unexpected constant, expecting `end'
  belongs_to :shop Serializer: :BagnshopnstaffSerializer
                   ^~~~~~~~~~
):
  
app/serializers/bag_serializer.rb:3: syntax error, unexpected constant, expecting `end'
app/serializers/bag_serializer.rb:3: syntax error, unexpected constant, expecting `end'
app/controllers/bags_controller.rb:8:in `index'
Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:37:53 +0300
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f5ae00b5b70 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-24704-77l073.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.5ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (59.66ms)
Completed 200 OK in 127ms (Views: 76.4ms | ActiveRecord: 10.9ms | Allocations: 20576)


Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:43:13 +0300
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f5ad80f6920 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-24704-hj9hpw.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (48.06ms)
Completed 200 OK in 107ms (Views: 66.2ms | ActiveRecord: 7.2ms | Allocations: 20410)


Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:44:22 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc2350c5bf8 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-25209-ppeqen.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.6ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (101.47ms)
Completed 200 OK in 280ms (Views: 178.4ms | ActiveRecord: 8.2ms | Allocations: 62932)


Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:47:44 +0300
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc245022560 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-25209-1u50jjf.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 4.8ms | Allocations: 11208)


  
SyntaxError (/home/sam/Bags-Retail/api/app/serializers/bagnshopnstaff_serializer.rb:5: syntax error, unexpected symbol literal
    def :curr_staff
        ^
/home/sam/Bags-Retail/api/app/serializers/bagnshopnstaff_serializer.rb:9: syntax error, unexpected `end', expecting end-of-input
  end
  ^~~
):
  
app/serializers/bagnshopnstaff_serializer.rb:5: syntax error, unexpected symbol literal
app/serializers/bagnshopnstaff_serializer.rb:9: syntax error, unexpected `end', expecting end-of-input
app/serializers/bagnshopnstaff_serializer.rb:5: syntax error, unexpected symbol literal
app/serializers/bagnshopnstaff_serializer.rb:9: syntax error, unexpected `end', expecting end-of-input
app/serializers/bag_serializer.rb:3:in `<class:BagSerializer>'
app/serializers/bag_serializer.rb:1:in `<top (required)>'
app/controllers/bags_controller.rb:8:in `index'
Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:48:07 +0300
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc244c332b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-25209-16ikfnv.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
Completed 500 Internal Server Error in 53ms (ActiveRecord: 5.8ms | Allocations: 11198)


  
SyntaxError (/home/sam/Bags-Retail/api/app/serializers/bagnshopnstaff_serializer.rb:5: syntax error, unexpected symbol literal
    def :curr_staff
        ^
/home/sam/Bags-Retail/api/app/serializers/bagnshopnstaff_serializer.rb:9: syntax error, unexpected `end', expecting end-of-input
  end
  ^~~
):
  
app/serializers/bagnshopnstaff_serializer.rb:5: syntax error, unexpected symbol literal
app/serializers/bagnshopnstaff_serializer.rb:9: syntax error, unexpected `end', expecting end-of-input
app/serializers/bagnshopnstaff_serializer.rb:5: syntax error, unexpected symbol literal
app/serializers/bagnshopnstaff_serializer.rb:9: syntax error, unexpected `end', expecting end-of-input
app/serializers/bag_serializer.rb:3:in `<class:BagSerializer>'
app/serializers/bag_serializer.rb:1:in `<top (required)>'
app/controllers/bags_controller.rb:8:in `index'
Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:48:21 +0300
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc2380b27a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-25209-265crv.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.5ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 6.4ms | Allocations: 11247)


  
SyntaxError (/home/sam/Bags-Retail/api/app/serializers/bagnshopnstaff_serializer.rb:5: syntax error, unexpected symbol literal
    def :curr_staff
        ^
/home/sam/Bags-Retail/api/app/serializers/bagnshopnstaff_serializer.rb:9: syntax error, unexpected `end', expecting end-of-input
  end
  ^~~
):
  
app/serializers/bagnshopnstaff_serializer.rb:5: syntax error, unexpected symbol literal
app/serializers/bagnshopnstaff_serializer.rb:9: syntax error, unexpected `end', expecting end-of-input
app/serializers/bagnshopnstaff_serializer.rb:5: syntax error, unexpected symbol literal
app/serializers/bagnshopnstaff_serializer.rb:9: syntax error, unexpected `end', expecting end-of-input
app/serializers/bag_serializer.rb:3:in `<class:BagSerializer>'
app/serializers/bag_serializer.rb:1:in `<top (required)>'
app/controllers/bags_controller.rb:8:in `index'
Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:50:23 +0300
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc2300efa48 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-25209-t7hre6.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 4.7ms | Allocations: 11191)


  
SyntaxError (/home/sam/Bags-Retail/api/app/serializers/bagnshopnstaff_serializer.rb:3: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
    has_many :staffs
             ^
):
  
app/serializers/bagnshopnstaff_serializer.rb:3: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
app/serializers/bagnshopnstaff_serializer.rb:3: syntax error, unexpected symbol literal, expecting `do' or '{' or '('
app/serializers/bag_serializer.rb:3:in `<class:BagSerializer>'
app/serializers/bag_serializer.rb:1:in `<top (required)>'
app/controllers/bags_controller.rb:8:in `index'
Started GET "/bags/" for 127.0.0.1 at 2023-06-13 15:50:43 +0300
Processing by BagsController#index as */*
  Parameters: {"name"=>"Gucci", "sold"=>"false", "stored"=>"true", "shop_id"=>"1", "category_id"=>"2", "price"=>"5000", "sold_at"=>"nil", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc2349c0678 @tempfile=#<Tempfile:/tmp/RackMultipart20230613-25209-2d3g8i.jpg>, @content_type="image/jpeg", @original_filename="IMG_20230121_004342.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"IMG_20230121_004342.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:31:in `current_staff'
  [1m[36mBag Load (0.4ms)[0m  [1m[34mSELECT "bags".* FROM "bags"[0m
  â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mShop Load (0.5ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers]   [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/bags_controller.rb:8:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (49.89ms)
Completed 200 OK in 109ms (Views: 65.7ms | ActiveRecord: 8.2ms | Allocations: 20412)


  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateShops (20230607075731)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "shops" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607075731"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateStaffs (20230607081426)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "staffs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "phone_number" integer, "role" varchar, "shop_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081426"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20230607081811)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230607081811"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBags (20230610091904)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "bags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "sold" boolean, "stored" boolean, "shop_id" integer, "category_id" integer, "image_data" text, "price" integer, "sold_at" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230610091904"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-18 20:24:57.063218"], ["updated_at", "2023-06-18 20:24:57.063218"]]
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Create (0.6ms)[0m  [1m[32mINSERT INTO "shops" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Shop 1"], ["created_at", "2023-06-18 20:25:06.794354"], ["updated_at", "2023-06-18 20:25:06.794354"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Create (0.6ms)[0m  [1m[32mINSERT INTO "shops" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Shop 2"], ["created_at", "2023-06-18 20:25:06.806096"], ["updated_at", "2023-06-18 20:25:06.806096"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Create (0.7ms)[0m  [1m[32mINSERT INTO "shops" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Shop 3"], ["created_at", "2023-06-18 20:25:06.817716"], ["updated_at", "2023-06-18 20:25:06.817716"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Create (0.7ms)[0m  [1m[32mINSERT INTO "shops" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Shop 4"], ["created_at", "2023-06-18 20:25:06.827908"], ["updated_at", "2023-06-18 20:25:06.827908"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStaff Create (0.5ms)[0m  [1m[32mINSERT INTO "staffs" ("name", "password_digest", "phone_number", "role", "shop_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "test"], ["password_digest", "[FILTERED]"], ["phone_number", 117440512], ["role", "admin"], ["shop_id", 1], ["created_at", "2023-06-18 20:25:07.166044"], ["updated_at", "2023-06-18 20:25:07.166044"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mStaff Create (0.5ms)[0m  [1m[32mINSERT INTO "staffs" ("name", "password_digest", "phone_number", "role", "shop_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "test1"], ["password_digest", "[FILTERED]"], ["phone_number", 119537664], ["role", "attendant"], ["shop_id", 2], ["created_at", "2023-06-18 20:25:07.442329"], ["updated_at", "2023-06-18 20:25:07.442329"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mStaff Create (0.6ms)[0m  [1m[32mINSERT INTO "staffs" ("name", "password_digest", "phone_number", "role", "shop_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "test2"], ["password_digest", "[FILTERED]"], ["phone_number", 121634816], ["role", "attendant"], ["shop_id", 3], ["created_at", "2023-06-18 20:25:07.724464"], ["updated_at", "2023-06-18 20:25:07.724464"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mStaff Create (0.5ms)[0m  [1m[32mINSERT INTO "staffs" ("name", "password_digest", "phone_number", "role", "shop_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "test3"], ["password_digest", "[FILTERED]"], ["phone_number", 123731968], ["role", "attendant"], ["shop_id", 4], ["created_at", "2023-06-18 20:25:08.006252"], ["updated_at", "2023-06-18 20:25:08.006252"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "travel"], ["created_at", "2023-06-18 20:25:08.023986"], ["updated_at", "2023-06-18 20:25:08.023986"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "backpack"], ["created_at", "2023-06-18 20:25:08.032897"], ["updated_at", "2023-06-18 20:25:08.032897"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "sling"], ["created_at", "2023-06-18 20:25:08.042890"], ["updated_at", "2023-06-18 20:25:08.042890"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "fannypack"], ["created_at", "2023-06-18 20:25:08.051471"], ["updated_at", "2023-06-18 20:25:08.051471"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBag Create (0.9ms)[0m  [1m[32mINSERT INTO "bags" ("name", "sold", "stored", "shop_id", "category_id", "image_data", "price", "sold_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Gucci"], ["sold", 0], ["stored", 1], ["shop_id", 1], ["category_id", 1], ["image_data", "{\"id\":\"8a94e438d799de30135bbe69b9aaf066.jpg\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"bag1travel.jpg\",\"size\":230930,\"mime_type\":\"image/jpeg\",\"width\":983,\"height\":1228}}"], ["price", 0], ["sold_at", nil], ["created_at", "2023-06-18 20:25:19.047515"], ["updated_at", "2023-06-18 20:25:19.047515"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBag Update (0.8ms)[0m  [1m[33mUPDATE "bags" SET "image_data" = ?, "updated_at" = ? WHERE "bags"."id" = ?[0m  [["image_data", "{\"id\":\"00d30b4dcc5a05ee9c3589fb608e1e7e.jpg\",\"storage\":\"store\",\"metadata\":{\"filename\":\"bag1travel.jpg\",\"size\":230930,\"mime_type\":\"image/jpeg\",\"width\":983,\"height\":1228}}"], ["updated_at", "2023-06-18 20:25:20.618277"], ["id", 1]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBag Create (0.8ms)[0m  [1m[32mINSERT INTO "bags" ("name", "sold", "stored", "shop_id", "category_id", "image_data", "price", "sold_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Coco"], ["sold", 0], ["stored", 1], ["shop_id", 1], ["category_id", 2], ["image_data", "{\"id\":\"5e96e05f867211f9eaee956448b2f7ce.jpg\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"bag2backpack.jpg\",\"size\":144048,\"mime_type\":\"image/jpeg\",\"width\":1283,\"height\":1557}}"], ["price", 0], ["sold_at", nil], ["created_at", "2023-06-18 20:25:23.094862"], ["updated_at", "2023-06-18 20:25:23.094862"]]
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBag Update (0.8ms)[0m  [1m[33mUPDATE "bags" SET "image_data" = ?, "updated_at" = ? WHERE "bags"."id" = ?[0m  [["image_data", "{\"id\":\"2001a751e6f1507e3538ece358927f96.jpg\",\"storage\":\"store\",\"metadata\":{\"filename\":\"bag2backpack.jpg\",\"size\":144048,\"mime_type\":\"image/jpeg\",\"width\":1283,\"height\":1557}}"], ["updated_at", "2023-06-18 20:25:24.819708"], ["id", 2]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBag Create (1.8ms)[0m  [1m[32mINSERT INTO "bags" ("name", "sold", "stored", "shop_id", "category_id", "image_data", "price", "sold_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Channel"], ["sold", 0], ["stored", 1], ["shop_id", 1], ["category_id", 3], ["image_data", "{\"id\":\"ec5d35187c7fe69a53e6f771b76d83b7.jpg\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"bag3sling.jpg\",\"size\":270647,\"mime_type\":\"image/jpeg\",\"width\":1364,\"height\":2048}}"], ["price", 0], ["sold_at", nil], ["created_at", "2023-06-18 20:25:32.040399"], ["updated_at", "2023-06-18 20:25:32.040399"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBag Update (0.8ms)[0m  [1m[33mUPDATE "bags" SET "image_data" = ?, "updated_at" = ? WHERE "bags"."id" = ?[0m  [["image_data", "{\"id\":\"639a7b055528cccb710f8356f8a6cf2e.jpg\",\"storage\":\"store\",\"metadata\":{\"filename\":\"bag3sling.jpg\",\"size\":270647,\"mime_type\":\"image/jpeg\",\"width\":1364,\"height\":2048}}"], ["updated_at", "2023-06-18 20:25:33.782763"], ["id", 3]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mBag Create (1.6ms)[0m  [1m[32mINSERT INTO "bags" ("name", "sold", "stored", "shop_id", "category_id", "image_data", "price", "sold_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Loui Viton"], ["sold", 0], ["stored", 1], ["shop_id", 1], ["category_id", 4], ["image_data", "{\"id\":\"4a7a4c9f8beba90fc9e145c88c658313.jpg\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"bag4fannypack.jpg\",\"size\":87128,\"mime_type\":\"image/jpeg\",\"width\":484,\"height\":1024}}"], ["price", 0], ["sold_at", nil], ["created_at", "2023-06-18 20:25:36.530189"], ["updated_at", "2023-06-18 20:25:36.530189"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBag Update (0.8ms)[0m  [1m[33mUPDATE "bags" SET "image_data" = ?, "updated_at" = ? WHERE "bags"."id" = ?[0m  [["image_data", "{\"id\":\"303ecc0a9990f8494bcfbc27f61f6438.jpg\",\"storage\":\"store\",\"metadata\":{\"filename\":\"bag4fannypack.jpg\",\"size\":87128,\"mime_type\":\"image/jpeg\",\"width\":484,\"height\":1024}}"], ["updated_at", "2023-06-18 20:25:38.137760"], ["id", 4]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
